// Language switching functionality
const translations = {
    en: {
        // Header
        'workshop-title': 'Workshop 3: Approaches to Economic and Social Crises and the Protection of Cultural Heritage Using AI',
        
        // Info labels
        'date-label': 'Date:',
        'presenter-label': 'Presenter:',
        'workshop-number-label': 'Workshop Number:',
        
        // Workshop section
        'workshop-overview': 'Workshop Overview',
        'workshop-overview-text': 'This workshop aims to deepen students\' understanding of how economic and social crises affect communities and institutions in Jerusalem and Morocco, with Jerusalem as a central case study. We explore how digital platforms and AI techniques can support crisis analysis, institutional resilience, and the protection of cultural and architectural heritage in times of emergency.',
        'workshop-objectives': 'Workshop Objectives',
        'objective1': 'Deepen students\' understanding of how economic and social crises affect communities and institutions in Jerusalem and Morocco, with Jerusalem as a central case study.',
        'objective2': 'Explore how digital platforms and AI techniques can support crisis analysis, institutional resilience, and the protection of cultural and architectural heritage in times of emergency.',
        'objective3': 'Foster collaborative, interdisciplinary work between Moroccan and Palestinian students, and encourage critical, creative thinking about using technology in the service of justice, dignity, and memory.',
        
        // Tools section
        'tools-title': 'Interactive Tools & Dashboards',
        'tools-intro': 'Explore the reference dashboards created for this workshop. These tools demonstrate how AI and data visualization can be used to analyze economic and social crises.',
        'dashboard-desc': 'A completed reference example dashboard that synthesizes academic research on economic and social crises in Palestine and Morocco into interactive, policy-relevant visualizations.',
        'examples-desc': 'A comprehensive dashboard providing students with hands-on experience analyzing real-world crisis indicators through interactive visualizations across 8 specialized analysis pages.',
        'features': 'Features:',
        'how-to-access': 'How to Access:',
        'then-open': 'Then open',
        'in-browser': 'in your browser',
        'view-folder': 'View Dashboard Folder',
        'read-docs': 'Read Documentation',
        
        // Student access
        'student-resources': 'Student Resources & Access',
        'student-intro': 'Students participating in this workshop will need to access the student repository which contains templates, resources, and instructions for developing their digital platform concepts.',
        'getting-started': 'Getting Started with the Student Repository',
        'step1-title': 'Access the Repository',
        'step1-text': 'The student repository is available at:',
        'step1-note': 'The repository link will be shared during the workshop.',
        'qr-code-label': 'Scan to access the repository',
        'step2-title': 'Clone or Download the Repository',
        'option-a': 'Option A: Using Git (Recommended)',
        'option-b': 'Option B: Download as ZIP',
        'step2-text': 'If you\'re not familiar with Git, you can download the repository as a ZIP file from GitHub and extract it to your computer.',
        'step3-title': 'Quick Start Steps',
        'step3-1': 'Read WORKSHOP_BRIEF.md to understand the workshop objectives (available in Arabic, English, and French)',
        'step3-2': 'Navigate to the student-template/ folder',
        'step3-3': 'Open project-concept.md and start documenting your team\'s idea',
        'step3-4': 'Review resources/ folder for background context and examples',
        'step3-5': 'Use presentation-guide.md to prepare your 3-5 minute presentation',
        'step4-title': 'What You\'ll Find in the Repository',
        'what-deliver': 'What Students Will Deliver',
        'deliver-intro': 'During the workshop, each student team will:',
        'deliver1': 'Work in mixed Moroccan–Palestinian teams, ideally bringing together different disciplines',
        'deliver2': 'Select one concrete problem related to economic/social crises or heritage under threat',
        'deliver3': 'Formulate one clear guiding question',
        'deliver4': 'Propose a concise concept for a digital initiative or tool',
        'deliver5': 'Prepare and deliver a short 3–5 minute presentation',
        'deliver-note': 'Note: A fully implemented technical solution is not required. The core deliverable is a clear, realistic, and context-aware concept that could be developed further.',
        
        // Footer
        'workshop-info': 'Workshop Information',
        'languages': 'Languages'
    },
    ar: {
        // Header
        'workshop-title': 'الورشة الثالثة: مقاربة الأزمات الاقتصادية والاجتماعية وحماية التراث الثقافي باستخدام تقنيات الذكاء الاصطناعي',
        
        // Info labels
        'date-label': 'التاريخ:',
        'presenter-label': 'المقدم:',
        'workshop-number-label': 'رقم الورشة:',
        
        // Workshop section
        'workshop-overview': 'نظرة عامة على الورشة',
        'workshop-overview-text': 'تهدف هذه الورشة إلى تعميق فهم الطلبة لتأثير الأزمات الاقتصادية والاجتماعية على المجتمعات والمؤسسات في القدس والمغرب، مع اعتماد القدس كحالة مركزية. نستكشف كيف يمكن للمنصات الرقمية وتقنيات الذكاء الاصطناعي أن تساهم في تحليل الأزمات، ودعم صمود المؤسسات، وحماية التراث الثقافي والمعماري في سياقات الطوارئ.',
        'workshop-objectives': 'أهداف الورشة',
        'objective1': 'تعمّق فهم الطلبة لتأثير الأزمات الاقتصادية والاجتماعية على المجتمعات والمؤسسات في القدس والمغرب، مع اعتماد القدس كحالة مركزية.',
        'objective2': 'فتح النقاش حول كيف يمكن للمنصات الرقمية وتقنيات الذكاء الاصطناعي أن تساهم في تحليل الأزمات، ودعم صمود المؤسسات، وحماية التراث الثقافي والمعماري في سياقات الطوارئ.',
        'objective3': 'تشجيع العمل التشاركي بين الطلبة المغاربة والفلسطينيين، وتطوير تفكير نقدي وخلاّق حول توظيف التكنولوجيا لخدمة قضايا العدالة والكرامة والذاكرة.',
        
        // Tools section
        'tools-title': 'الأدوات واللوحات التفاعلية',
        'tools-intro': 'استكشف لوحات المعلومات المرجعية التي تم إنشاؤها لهذه الورشة. توضح هذه الأدوات كيف يمكن استخدام الذكاء الاصطناعي وتصور البيانات لتحليل الأزمات الاقتصادية والاجتماعية.',
        'dashboard-desc': 'لوحة معلومات مرجعية مكتملة تجمع البحث الأكاديمي حول الأزمات الاقتصادية والاجتماعية في فلسطين والمغرب في تصورات تفاعلية ذات صلة بالسياسات.',
        'examples-desc': 'لوحة معلومات شاملة توفر للطلبة خبرة عملية في تحليل مؤشرات الأزمات الواقعية من خلال تصورات تفاعلية عبر 8 صفحات تحليل متخصصة.',
        'features': 'الميزات:',
        'how-to-access': 'كيفية الوصول:',
        'then-open': 'ثم افتح',
        'in-browser': 'في متصفحك',
        'view-folder': 'عرض مجلد اللوحة',
        'read-docs': 'قراءة الوثائق',
        
        // Student access
        'student-resources': 'موارد الطلاب والوصول',
        'student-intro': 'سيحتاج الطلاب المشاركون في هذه الورشة إلى الوصول إلى مستودع الطلاب الذي يحتوي على قوالب وموارد وتعليمات لتطوير مفاهيم منصاتهم الرقمية.',
        'getting-started': 'البدء مع مستودع الطلاب',
        'step1-title': 'الوصول إلى المستودع',
        'step1-text': 'مستودع الطلاب متاح على:',
        'step1-note': 'سيتم مشاركة رابط المستودع خلال الورشة.',
        'qr-code-label': 'امسح الكود للوصول إلى المستودع',
        'step2-title': 'استنساخ أو تنزيل المستودع',
        'option-a': 'الخيار أ: استخدام Git (موصى به)',
        'option-b': 'الخيار ب: التنزيل كملف ZIP',
        'step2-text': 'إذا لم تكن معتاداً على Git، يمكنك تنزيل المستودع كملف ZIP من GitHub واستخراجه إلى جهاز الكمبيوتر الخاص بك.',
        'step3-title': 'خطوات البدء السريع',
        'step3-1': 'اقرأ WORKSHOP_BRIEF.md لفهم أهداف الورشة (متاح بالعربية والإنجليزية والفرنسية)',
        'step3-2': 'انتقل إلى مجلد student-template/',
        'step3-3': 'افتح project-concept.md وابدأ في توثيق فكرة فريقك',
        'step3-4': 'راجع مجلد resources/ للحصول على السياق الخلفي والأمثلة',
        'step3-5': 'استخدم presentation-guide.md لإعداد عرضك التقديمي من 3-5 دقائق',
        'step4-title': 'ما ستجده في المستودع',
        'what-deliver': 'ما سيسلمه الطلاب',
        'deliver-intro': 'خلال الورشة، سيقوم كل فريق طلابي بـ:',
        'deliver1': 'العمل في فرق مختلطة (مغربية–فلسطينية)، مع تجميع تخصصات مختلفة قدر الإمكان',
        'deliver2': 'اختيار مشكلة محددة مرتبطة بالأزمات الاقتصادية/الاجتماعية أو بتهديد التراث',
        'deliver3': 'صياغة سؤال توجيهي واضح',
        'deliver4': 'اقتراح فكرة أو تصور أولي لمبادرة أو أداة رقمية',
        'deliver5': 'إعداد وتقديم عرض شفهي قصير (3–5 دقائق)',
        'deliver-note': 'ملاحظة: لا يُطلب تنفيذ تقني كامل. الهدف الأساسي هو تقديم فكرة واضحة وقابلة للتطوير تعكس فهماً عميقاً للسياق.',
        
        // Footer
        'workshop-info': 'معلومات الورشة',
        'languages': 'اللغات'
    },
    fr: {
        // Header
        'workshop-title': 'Atelier 3 : Approches des crises économiques et sociales et protection du patrimoine culturel à l\'aide de l\'IA',
        
        // Info labels
        'date-label': 'Date:',
        'presenter-label': 'Présentateur:',
        'workshop-number-label': 'Numéro d\'atelier:',
        
        // Workshop section
        'workshop-overview': 'Vue d\'ensemble de l\'atelier',
        'workshop-overview-text': 'L\'atelier vise à approfondir la compréhension de l\'impact des crises économiques et sociales sur les communautés et les institutions à Jérusalem et au Maroc, en prenant Jérusalem comme étude de cas centrale. Nous explorons comment les plateformes numériques et les techniques d\'IA peuvent contribuer à l\'analyse des crises, au renforcement de la résilience institutionnelle et à la protection du patrimoine culturel et architectural en période d\'urgence.',
        'workshop-objectives': 'Objectifs de l\'atelier',
        'objective1': 'Approfondir la compréhension de l\'impact des crises économiques et sociales sur les communautés et les institutions à Jérusalem et au Maroc, en prenant Jérusalem comme étude de cas centrale.',
        'objective2': 'Explorer comment les plateformes numériques et les techniques d\'IA peuvent contribuer à l\'analyse des crises, au renforcement de la résilience institutionnelle et à la protection du patrimoine culturel et architectural en période d\'urgence.',
        'objective3': 'Encourager un travail collaboratif et interdisciplinaire entre étudiant·e·s marocain·e·s et palestinien·ne·s, et développer une réflexion critique et créative sur l\'usage du numérique au service de la justice, de la dignité et de la mémoire.',
        
        // Tools section
        'tools-title': 'Outils et tableaux de bord interactifs',
        'tools-intro': 'Explorez les tableaux de bord de référence créés pour cet atelier. Ces outils démontrent comment l\'IA et la visualisation de données peuvent être utilisées pour analyser les crises économiques et sociales.',
        'dashboard-desc': 'Un tableau de bord de référence complet qui synthétise la recherche académique sur les crises économiques et sociales en Palestine et au Maroc en visualisations interactives pertinentes pour les politiques.',
        'examples-desc': 'Un tableau de bord complet offrant aux étudiants une expérience pratique d\'analyse d\'indicateurs de crise réels grâce à des visualisations interactives sur 8 pages d\'analyse spécialisées.',
        'features': 'Caractéristiques:',
        'how-to-access': 'Comment accéder:',
        'then-open': 'Puis ouvrez',
        'in-browser': 'dans votre navigateur',
        'view-folder': 'Voir le dossier du tableau de bord',
        'read-docs': 'Lire la documentation',
        
        // Student access
        'student-resources': 'Ressources et accès étudiants',
        'student-intro': 'Les étudiants participant à cet atelier devront accéder au dépôt étudiant qui contient des modèles, des ressources et des instructions pour développer leurs concepts de plateforme numérique.',
        'getting-started': 'Commencer avec le dépôt étudiant',
        'step1-title': 'Accéder au dépôt',
        'step1-text': 'Le dépôt étudiant est disponible à:',
        'step1-note': 'Le lien du dépôt sera partagé pendant l\'atelier.',
        'qr-code-label': 'Scannez pour accéder au dépôt',
        'step2-title': 'Cloner ou télécharger le dépôt',
        'option-a': 'Option A : Utiliser Git (Recommandé)',
        'option-b': 'Option B : Télécharger en ZIP',
        'step2-text': 'Si vous n\'êtes pas familier avec Git, vous pouvez télécharger le dépôt sous forme de fichier ZIP depuis GitHub et l\'extraire sur votre ordinateur.',
        'step3-title': 'Étapes de démarrage rapide',
        'step3-1': 'Lisez WORKSHOP_BRIEF.md pour comprendre les objectifs de l\'atelier (disponible en arabe, anglais et français)',
        'step3-2': 'Naviguez vers le dossier student-template/',
        'step3-3': 'Ouvrez project-concept.md et commencez à documenter l\'idée de votre équipe',
        'step3-4': 'Consultez le dossier resources/ pour le contexte et les exemples',
        'step3-5': 'Utilisez presentation-guide.md pour préparer votre présentation de 3-5 minutes',
        'step4-title': 'Ce que vous trouverez dans le dépôt',
        'what-deliver': 'Ce que les étudiants livreront',
        'deliver-intro': 'Pendant l\'atelier, chaque groupe d\'étudiants devra:',
        'deliver1': 'Travailler en équipes mixtes maroco-palestiniennes, idéalement en rassemblant différentes disciplines',
        'deliver2': 'Choisir un problème précis lié aux crises économiques/sociales ou à la mise sous pression du patrimoine',
        'deliver3': 'Formuler une question directrice claire',
        'deliver4': 'Proposer un concept synthétique d\'initiative ou d\'outil numérique',
        'deliver5': 'Préparer et présenter une courte présentation (3–5 minutes)',
        'deliver-note': 'Note: Il ne s\'agit pas de livrer une solution technique complète, mais un concept clair, crédible et sensible au contexte, qui pourrait être développé ultérieurement.',
        
        // Footer
        'workshop-info': 'Informations sur l\'atelier',
        'languages': 'Langues'
    }
};

// Set initial language from localStorage or default to English
let currentLang = localStorage.getItem('selectedLanguage') || 'en';

function setLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('selectedLanguage', lang);
    document.documentElement.lang = lang;
    document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
    
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });
    
    // Update elements with data-i18n-html for HTML content
    document.querySelectorAll('[data-i18n-html]').forEach(element => {
        const key = element.getAttribute('data-i18n-html');
        if (translations[lang] && translations[lang][key]) {
            element.innerHTML = translations[lang][key];
        }
    });
    
    // Update language switcher active state
    document.querySelectorAll('.lang-switcher-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-lang') === lang) {
            btn.classList.add('active');
        }
    });
}

// Initialize language on page load
document.addEventListener('DOMContentLoaded', () => {
    setLanguage(currentLang);
    
    // Add click handlers to language switcher buttons
    document.querySelectorAll('.lang-switcher-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            const lang = btn.getAttribute('data-lang');
            setLanguage(lang);
        });
    });
});

